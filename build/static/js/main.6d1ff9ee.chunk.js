(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{373:function(e,a,t){e.exports=t(751)},750:function(e,a,t){},751:function(e,a,t){"use strict";t.r(a);t(374),t(576);var n,r,c,l=t(0),o=t.n(l),i=t(68),s=t.n(i),u=t(178),m=t(16),d=t(350),p=t(820),f=Object(p.a)({form:{maxWidth:"70%",margin:"auto"},title_form:{textAlign:"center",marginBottom:"20px !important"},box_spinner:{display:"flex",justifyContent:"center"},box_btn:{display:"flex",justifyContent:"center",marginTop:"30px"}}),g=t(189),b=g.a({email:g.b("Ingrese su email").email("Ingrese una direcci\xf3n de email valida").required("Es necesario ingresa una direcci\xf3n de email"),password:g.b("Ingrese su contrase\xf1a").min(6,"La contrase\xf1a debe tener un m\xednimo de 6 caracteres").required("Es necesario ingresar la contrase\xf1a")}),E=t(35),x=t(4),h=t(77),v=t.n(h),j=t(119),O=t(62),w=t(120),C=t.n(w),k=t(188),_=t.n(k),y=function(e,a){return _.a.mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",_.a.stopTimer),e.addEventListener("mouseleave",_.a.resumeTimer)}}).fire({icon:"".concat(e),title:"".concat(a)})},N=Object(O.b)("user/loginUser",function(){var e=Object(j.a)(v.a.mark(function e(a){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("https://admindev.inceptia.ai/api/v1/login/",a);case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",y("error","Por favor ingrese un email o contrase\xf1a valido"));case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}()),S=Object(O.c)({name:"user",initialState:{token:localStorage.getItem("token")||"",status:null},extraReducers:(n={},Object(x.a)(n,N.pending,function(e){e.status="Loading"}),Object(x.a)(n,N.fulfilled,function(e,a){var t=a.payload;"SUCCESS"===t.login_status?(e.status="Success",localStorage.setItem("token",t.token),e.token=t.token):e.status="Failed"}),Object(x.a)(n,N.rejected,function(e){e.status="Failed"}),n),reducers:{logOut:function(e){localStorage.clear(),e.token=""}}}),I=S.actions.logOut,L=S.reducer,T=(t(745),t(351)),A=function(e){return o.a.createElement(T.a,e)},D=t(827),B=t(828),R=t(829),W=t(819),Y=t(825),F=t(814),P=function(){var e=f(),a=Object(m.g)(),t=Object(E.b)(),n=Object(E.c)(function(e){return e.user}),r=n.token,c=n.status,i=Object(d.a)({enableReinitialize:!0,initialValues:{email:"",password:""},validationSchema:b,onSubmit:function(e){t(N(e))}}),s=i.handleSubmit,u=i.handleBlur,p=i.touched,g=i.errors,x=i.handleChange;return Object(l.useEffect)(function(){r&&a("/")},[r,a]),o.a.createElement(D.a,{sx:{marginTop:"25vh"}},o.a.createElement("form",{className:e.form,onSubmit:s},o.a.createElement(B.a,{sx:{padding:"40px",backgroundColor:"#DADCE2"},elevation:5},o.a.createElement(R.a,{variant:"h4",className:e.title_form},"Inicie sesi\xf3n"),o.a.createElement(W.a,{type:"email",name:"email",sx:{marginTop:"25px"},placeholder:"Ingrese su email",onChange:x,onBlur:u,error:p.email&&g.email,helperText:p.email&&g.email,fullWidth:!0}),o.a.createElement(W.a,{type:"password",name:"password",sx:{marginTop:"30px"},placeholder:"Ingrese su password",onChange:x,onBlur:u,error:p.password&&g.password,helperText:p.password&&g.password,fullWidth:!0}),"Loading"===c?o.a.createElement(F.a,{className:e.box_spinner},o.a.createElement(A,{width:30,heigth:30})):o.a.createElement(F.a,{className:e.box_btn},o.a.createElement(Y.a,{type:"submit",variant:"contained"},"Enviar")))))},M=function(){var e=localStorage.getItem("token"),a={headers:{authorization:"JWT ".concat(e)}};return null!==e?a:null},z=Object(O.b)("client/getClient",Object(j.a)(v.a.mark(function e(){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()("https://admindev.inceptia.ai/api/v1/clients/",M());case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))),G=Object(O.c)({name:"client",initialState:{clients:[],status:null},extraReducers:(r={},Object(x.a)(r,z.pending,function(e){e.status="Loading"}),Object(x.a)(r,z.fulfilled,function(e,a){var t=a.payload;e.status="Success",e.clients=t}),Object(x.a)(r,z.rejected,function(e){e.status="Failed"}),r)}).reducer,J=Object(O.b)("cases/getCases",function(){var e=Object(j.a)(v.a.mark(function e(a){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C()("".concat("https://admindev.inceptia.ai/api/v1/inbound-case/?","client=").concat(a.id,"&local_updated__da\n        te__gte=").concat(a.desde,"&local_updated__date__lte=").concat(a.hasta),M());case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(a){return e.apply(this,arguments)}}()),U=Object(O.c)({name:"cases",initialState:{cases:[],status:null},extraReducers:(c={},Object(x.a)(c,J.pending,function(e){e.status="Loading"}),Object(x.a)(c,J.fulfilled,function(e,a){var t=a.payload;e.status="Success",e.cases=t.results}),Object(x.a)(c,J.rejected,function(e){e.status="Failed"}),c)}).reducer,q=Object(O.a)({reducer:{user:L,client:G,case:U}}),X=t(9),H=t(826),V=t(832),$=t(833),K=t(831),Q=t(822),Z=Object(p.a)({drawerPaper:{width:"130px",backgroundColor:"#E5E5E5 !important"}}),ee=function(e){var a=e.variant,t=e.open,n=e.onClose,r=Z(),c=Object(E.b)(),i=Object(E.c)(function(e){return e.client}).clients;return Object(l.useEffect)(function(){c(z())},[c]),o.a.createElement(H.a,{className:r.drawer,sx:{backgroundColor:"#E5E5E5"},variant:a,open:t,onClose:n||null,classes:{paper:r.drawerPaper}},o.a.createElement(V.a,null),o.a.createElement($.a,null),o.a.createElement(R.a,{variant:"h6",color:"initial",sx:{marginLeft:"15px"}},"Cliente"),o.a.createElement(K.a,null,i.map(function(e){var a=e.name,t=e.id;return o.a.createElement(Q.a,{key:t},o.a.createElement(R.a,{color:"initial"},a))})))},ae=t(92),te=t.n(ae),ne=t(345),re=t(818),ce=Object(p.a)(function(e){return{box_datePicker:Object(x.a)({display:"flex",justifyContent:"flex-end",columnGap:"10px",marginRight:"10px",marginTop:"15px"},e.breakpoints.down("sm"),{marginRight:"0px"})}}),le=t(815),oe=t(816),ie=(t(747),function(){var e=ce(),a=Object(E.b)(),t=Object(E.c)(function(e){return e.client}).clients,n=Object(l.useState)(null),r=Object(X.a)(n,2),c=r[0],i=r[1],s=Object(l.useState)(null),u=Object(X.a)(s,2),m=u[0],d=u[1],p=Object(l.useState)(!1),f=Object(X.a)(p,2),g=f[0],b=f[1],x=Object(l.useRef)(),h=t[0];return Object(l.useEffect)(function(){null!==(c&&m)&&(i(te()(c).format("YYYY-MM-DD")),d(te()(m).format("YYYY-MM-DD")),b(!0))},[c,m]),Object(l.useEffect)(function(){x.current&&clearInterval(x.current),g&&te()(m).isAfter(c)?x.current=setTimeout(function(){a(J({id:h.id,desde:c,hasta:m}))},500):g&&te()(m).isBefore(c)&&y("error","La fecha desde debe ser mayor o igual a hasta")},[c,m,g,a]),o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{className:e.box_datePicker},o.a.createElement(ne.a,{dateAdapter:oe.a,locale:"es"},o.a.createElement(re.a,{label:"Desde",value:c,onChange:function(e){i(e)},renderInput:function(e){return o.a.createElement(W.a,e)}})),o.a.createElement(ne.a,{dateAdapter:oe.a,locale:"es"},o.a.createElement(re.a,{label:"Hasta",value:m,onChange:function(e){d(e)},renderInput:function(e){return o.a.createElement(W.a,e)}}))))}),se=t(835),ue=t(836),me=t(837),de=t(838),pe=t(839),fe=Object(p.a)(function(e){return{box_view:Object(x.a)({width:"calc(100% - 130px)",marginLeft:"125px"},e.breakpoints.down("sm"),{marginLeft:"60px"}),containerList:{overflowX:"auto",marginRight:"auto",marginLeft:"auto",marginTop:"15px",padding:"10px",margin:"10px"},box_spinner:{display:"flex",justifyContent:"center",alignItems:"center"},tr:{height:"40px !important"},th:{maxWidth:"125px",minWidth:"125px",padding:"0 !important",overflowX:"auto",whiteSpace:"nowrap",textAlign:"center !important"},td:{height:"80px !important",padding:"5px !important",textAlign:"center !important"}}}),ge=t(346),be=t.n(ge),Ee=t(347),xe=t.n(Ee),he=function(){var e=fe(),a=Object(E.c)(function(e){return e.case}),t=a.cases,n=a.status;return o.a.createElement(B.a,{className:e.containerList},o.a.createElement(se.a,null,o.a.createElement(ue.a,null,o.a.createElement(me.a,{className:e.tr},o.a.createElement(de.a,{className:e.th,align:"left"},"Gestionado"),o.a.createElement(de.a,{className:e.th,align:"left"},"ID Caso"),o.a.createElement(de.a,{className:e.th,align:"left"},"Telefono"),o.a.createElement(de.a,{className:e.th,align:"left"},"Dni"),o.a.createElement(de.a,{className:e.th,align:"left"},"Grupo"),o.a.createElement(de.a,{className:e.th,align:"left"},"Orden"),o.a.createElement(de.a,{className:e.th,align:"left"},"Llamada"),o.a.createElement(de.a,{className:e.th,align:"left"},"Estado"))),o.a.createElement(pe.a,null,"Loading"===n?o.a.createElement(A,{className:e.box_spinner}):t.map(function(a){var t=a.id,n=a.last_updated,r=a.case_uuid,c=a.phone,l=a.extra_metadata,i=a.case_duration,s=a.case_result;return o.a.createElement(me.a,{className:e.tr,key:t},o.a.createElement(de.a,{className:e.td,component:"th",scope:"row",sx:{display:"flex",alignItems:"center",color:"red"}},o.a.createElement(be.a,{sx:{color:"#AC0202"}}),n),o.a.createElement(de.a,{className:e.td,sx:{color:"#274698"}},r),o.a.createElement(de.a,{className:e.td,sx:{fontWeight:"bold",color:"#274698"}},c),o.a.createElement(de.a,{className:e.td,sx:{color:"red"}},l.dni),o.a.createElement(de.a,{className:e.td,sx:{color:"red"}},l.grupo),o.a.createElement(de.a,{className:e.td,sx:{color:"red"}},l.orden),o.a.createElement(de.a,{className:e.td,sx:{display:"flex",alignItems:"center",color:"red"}},o.a.createElement(xe.a,{sx:{color:"#AC0202"}}),i),o.a.createElement(de.a,{className:e.td,sx:!1===s.is_final?{backgroundColor:"#E9C1C1"}:{backgroundColor:"#E1EEFD"}},s.name))}))))},ve=t(823),je=t(840),Oe=t(834),we=t(348),Ce=t.n(we),ke=t(349),_e=t.n(ke),ye=Object(p.a)({container:{display:"flex",alignItems:"center",justifyContent:"flex-end",width:"calc(100% - 130px)",marginLeft:"130px"}}),Ne=function(e){var a=e.setAbrir,t=ye(),n=Object(E.b)();return o.a.createElement(je.a,{position:"static",sx:{backgroundColor:"#AC0202"}},o.a.createElement(V.a,null,o.a.createElement(Oe.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2,display:{sm:"none"}},onClick:function(){return a()}},o.a.createElement(Ce.a,null)),o.a.createElement(le.a,{className:t.container},o.a.createElement(Y.a,{color:"inherit",onClick:function(){return n(I())}},o.a.createElement(_e.a,{sx:{marginRight:"5px"}}),"Log out"))))},Se=function(){var e=fe(),a=Object(l.useState)(!1),t=Object(X.a)(a,2),n=t[0],r=t[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ne,{setAbrir:function(){return r(!n)}}),o.a.createElement(ie,null),o.a.createElement(le.a,{sx:{display:"flex"}},o.a.createElement(ve.a,{smDown:!0},o.a.createElement(ee,{variant:"permanent",open:!0})),o.a.createElement(ve.a,{smUp:!0},o.a.createElement(ee,{variant:"temporary",open:n,onClose:function(){return r(!n)}})),o.a.createElement(le.a,{className:e.box_view},o.a.createElement(he,null))))},Ie=function(e){var a=e.children;return""!==Object(E.c)(function(e){return e.user}).token?a:o.a.createElement(m.a,{to:"/login"})},Le=t(841),Te=t(253),Ae=Object(Te.a)({}),De=function(){return o.a.createElement(Le.a,{theme:Ae},o.a.createElement(E.a,{store:q},o.a.createElement(u.a,null,o.a.createElement(m.d,null,o.a.createElement(m.b,{exact:!0,path:"/",element:o.a.createElement(Ie,null,o.a.createElement(Se,null))}),o.a.createElement(m.b,{exact:!0,path:"/login",element:o.a.createElement(P,null)})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(750);s.a.render(o.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[373,1,2]]]);
//# sourceMappingURL=main.6d1ff9ee.chunk.js.map